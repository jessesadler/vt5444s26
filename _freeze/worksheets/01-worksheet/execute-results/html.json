{
  "hash": "975338bdefd1019b1e462b488a6b4e6b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"1. Getting started with R\"\nformat: \n  live-html:\n    number-sections: true\n    number-depth: 2\nengine: knitr\n---\n\n\n::: {.cell}\n\n:::\n\n\n\nLet's begin by getting some experience with how R works and what it looks like to run R code.\n\nWriting and running R code is an iterative process.[^1] You write a line or block of code, run it, check if it did what you want, and then repeat the process. You will get errors, but that is ok. Instead of moving on to the next code block, you repeat the process with the code block you are on, checking error messages, changing what you think might be the problem, and trying again. You do this over and over to create a full **script** that accomplishes a set task.\n\nIn this web-based R session you can alter the code, fill in blanks, or write your own expressions, and then run it by selecting the blue `Run Code` button. The output, if any, will appear below the code section.\n\nUse hints where they exist and solutions if you need them. You can copy the code in the solution by mousing over the far right side of the solution code.\n\n## R is a calculator\nYou can use R as a calculator. If you write a mathematical expression and run it, the answer will be printed out. Run the code below and change it to see what you can do.\n\n\n::: {.cell}\n```{webr}\n2 + 3\n```\n:::\n\n\nYou can multiply (`*`), divide (`/`), use exponents (`^`), and other mathematical expressions, including using parentheses for order of operations. Create your own mathematical calculation below.\n\n\n::: {.cell}\n```{webr}\n\n```\n:::\n\n\nWhen we run code like this that prints out the answer, we say that it prints out to the *console*. Everything you write in or send to the console will be interpreted as code. If you want to write some notes for yourself or collaborators, you need to use comments. R will ignore any text after `#` in a line.\n\n\n::: {.cell}\n```{webr}\n# This is a comment\n8 * 24 # Comment at the end of a line of code\n```\n:::\n\n\nComments are not that important in an interactive worksheet, but they will become important when you start writing your own R scripts.\n\n## Creating objects\nPrinting out values is nice, but you will probably want to save values to use elsewhere in your script. You save values, by assigning it to a *name* or *variable*. This creates an *object* that is stored in your coding environment. You assign a name to an object with the *assignment operator* (`<-`). Run the code below. What difference do you notice?\n\n\n::: {.cell}\n```{webr}\nx <- 5\n```\n:::\n\n\n::: { .callout-tip collapse=\"true\"}\n## What was different?\nNothing is printed when you run the code.\n:::\n\nYou can think of this code as saying `x` gets the value of `5`. When a value is assigned, it does not print out to the console. To print out the value of an *object*, write the name of the object on its own line and run the code block.\n\n\n::: {.cell exercise='assignment' envir='assignment' min-lines='2'}\n```{webr}\n#| exercise: assignment\n#| envir: assignment\n#| min-lines: 2\nx ______ 5\n\n```\n:::\n\n\n::: { .hint exercise=\"assignment\" }\n::: { .callout-note collapse=\"false\" }\n## Hint 1\n\nMake sure to use the assignment operator (`<-`)\n\n```r\nx <- 5\n```\n:::\n:::\n\n::: { .hint exercise=\"assignment\" }\n::: { .callout-note collapse=\"false\" }\n## Hint 2\n\nYou need to type `Return` or `Enter` after the first line of code to get to the second line of the interactive code block.\n\n:::\n:::\n\n::: { .solution exercise=\"assignment\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\nTo print out the value of `x` to the console, write it on its own line and run the code block.\n```r\nx <- 5\nx\n```\n:::\n:::\n\n::: {.callout-tip}\n## Object vs variable\n\nIn R everything is an *object*. Technically `x` is now a named object. However, it is common to also refer to it as a *variable*. These two terms will largely be used synonymously in this course, especially in spoken language.\n\n:::\n\nOnce you have created an object, you can use it to create other values. In the next code block, use `x` to calculate a new value.\n\n\n::: {.cell exercise='object' envir='assignment'}\n```{webr}\n#| exercise: object\n#| envir: assignment\n\n```\n:::\n\n\n::: { .solution exercise=\"object\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\nYou can use `x` as you would the number 5. For instance:\n\n```r\nx * 24\n```\n:::\n:::\n\nNext, use the expression you wrote above to create a new named object using the assignment operator. Use whatever name you want.\n\n\n::: {.cell exercise='assignment2' envir='assignment'}\n```{webr}\n#| exercise: assignment2\n#| envir: assignment\n\n```\n:::\n\n\n### On naming\n\nWhen choosing a name for an object in R, you should be aware of the **rules** but also issues of **style**.\n\n#### Naming rules\n- Object names *must* start with a letter.\n- Names can only contain letters, numbers, `_`, and `.`.\n- Cannot use names that are predefined in R such as `TRUE` or `FALSE`.\n\n#### Naming style\nThere are different style conventions for naming objects. It is best to pick one style and be consistent.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nthis_is_snake_case <- value\norCamelCase <- value\nyou.can.use.periods <- value\nBELOUD <- value\nor.JUst_inconsistent <- value\n```\n:::\n\n\nIn this course, we will use *snake case*, which is probably the most widely used style. You can use whatever style you like, but *snake case* means you do not have to guess whether you used capital letters or not.\n\n::: {.callout-tip}\n## Be aware: R is case sensitive\n\nThis means that `my_obj` is different from `My_obj`. Computers are persnickety. You must be precise in your instructions. Computers do what you type, not what you want.\n\n:::\n\n::: {.callout-tip}\n## Choosing good names\n\nIt is best practice to name objects descriptive names even if they are longer. Names like `x` and `y` or `data` tell you nothing about what they are. Use descriptive names that match the data assigned to the object name.[^2]\n\n:::\n\nNow we have two named objects. What happens when you assign a new number to `x`? What happens to the other object you created using `x`? Does it also change? Check by printing the values out to the console. What do the answers to these questions tell you about the nature of objects in R?\n\n\n::: {.cell exercise='assignment3' envir='assignment' min-lines='3'}\n```{webr}\n#| exercise: assignment3\n#| envir: assignment\n#| min-lines: 3\nx <- 15\n```\n:::\n\n\n::: { .solution exercise=\"assignment3\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\nThe value of `x` is now 15. But any object created using the original value of `x` remains unchanged.\n\n```r\nx <- 15\nx\nyour_object\n```\n:::\n:::\n\n## Do things with functions\nFunctions take input, perform specific actions, and then return values. You can identify a function in R by the opening and closing parentheses that follow a name. Within the parentheses are a set of *arguments* that are set to *values*. These arguments are separated by commas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfunction_name(argument1 = value1, argument2 = value2, ....)\n```\n:::\n\n\nLet's use our first function! ðŸŽ‰\n\n\n::: {.cell}\n```{webr}\nround(x = 42.358964)\n```\n:::\n\n\n### Getting help\n\nThat is nice! But rather limited. What else can we do with the `round()` function? Let's read the documentation for the function by placing a question mark immediately in front of the function name.\n\n\n::: {.cell}\n```{webr}\n?round\n```\n:::\n\n\nWe see that this is actually the documentation of a set or family of functions. There are a couple of sections of the help page that are, well, particularly helpful.\n\n- Description: a short description of what the function is designed to do.\n- Usage: tells you the available *arguments* and their default values if any. Note that `digits` is set to `0` for `round()` but `6` for `signif()`.\n- Arguments: provides an explanation of each argument and the type of data it can be.\n- Examples: R code that you can run to see how a function works. Some examples are really helpful; some are less so.\n\nLets use the `digits` argument. Round `42.358964` to **3** decimal places.\n\n\n::: {.cell exercise='round'}\n```{webr}\n#| exercise: round\nround(x = 42.358964)\n```\n:::\n\n\n::: { .solution exercise=\"round\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n\n```r\nround(x = 42.358964, digits = 3)\n```\n:::\n:::\n\nWhat do the other functions in the Rounding of Numbers family do? What happens if you set `digits` to a negative number? How about if you set `digits` to something that is not a number? Try it out:\n\n\n::: {.cell}\n```{webr}\n\n```\n:::\n\n\n### Function coding style\nThere are two ways to define arguments within a function: by name or by position. The *usage* section of a function's help page shows the argument names and the order in which they are expected to occur.\n\n1. You do not need to write the argument names if you put them in the correct order:\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nround(42.358964, 3)\n```\n:::\n\n\n2. You do not **need** to place arguments in the correct order if you name them. However, it will drive you batty if you do this.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nround(digits = 3, x = 42.358964)\n```\n:::\n\n\n3. If you do not name arguments **and** place them in the wrong order, you will get errors or, even worse, incorrect results.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nround(3, 42.358964)\n```\n:::\n\n\n4. Most often the two styles will be combined. This is particularly true for dropping the name of the first argument, which generally takes the data you are inputting into the function while naming the other arguments that affect how the function is performed. In this case, writing `x = 42.358964` does not particularly help our understanding of the function, but `digits = 3` does help us remember that we are telling `round()` to round to the 3rd digit.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nround(42.358964, digits = 3)\n```\n:::\n\n\n::: {.callout-note collapse=\"false\"}\n## Assignment: `<-` vs `=`\n\nYou can also create named objects with the equal sign (`=`) in place of the assignment operator (`<-`). You may see some code that does this. However, the vast majority of R code uses the assignment operator. One benefit of this is that it helps to distinguish assignment of *objects* (`<-`) from the assignment of arguments within functions (`=`).\n\n:::\n\n### Another note on style\nIn the R code shown so far there has been spaces between the different elements in a code block. This is *not* necessary. R is *generally* agnostic to white space. The two below examples are the same as far as R is concerned, but I know which one I want to read more.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nround(x=42.358964,digits=3)\nround(x = 42.358964, digits = 3)\n```\n:::\n\n\nIt may be more typing to use spaces, but you also need to read and understand your own code. Test out spacing in your R code:\n\n\n::: {.cell}\n```{webr}\n\n```\n:::\n\n\nSpacing *generally* does not matter but try to be consistent and keep things that are supposed to be together, especially the assignment operator: this (`<-`) not this (`< -`). You will also want to avoid putting a space between the function name and the parentheses: `round (42.358964, 3)`.\n\n## Vectors\nSo far, the objects we have been dealing with have been limited to one value and have all been numeric. This is fine, but what if we want to make the same calculation on a set of values or find out information about a set of values. We can do this with **vectors**, an ordered set of values that are of the same data type. R was built to work with vectors. In fact, we have already been working with vectors, vectors of length 1.\n\nYou can create your own vectors with the `c(...)` function, which stands for combine. `c()` takes any number of valuesâ€”of the same typeâ€”separated by a comma.[^3]\n\nLet's start by making a vector named `households` that contains 5 numbers.\n\n\n::: {.cell exercise='vect' envir='vect'}\n```{webr}\n#| exercise: vect\n#| envir: vect\nhouseholds ______\n```\n:::\n\n\n::: { .hint exercise=\"vect\" }\n::: { .callout-note collapse=\"false\" }\n## Hint 1\n\nMake sure to use the assignment operator (`<-`)\n\n```r\nhouseholds <- ______\n```\n:::\n:::\n\n::: { .hint exercise=\"vect\"}\n::: { .callout-note collapse=\"false\"}\n## Hint 2\n\nVectors are created using the `c()` function, which stands for combine.\n\n```r\nhouseholds <- c(______)\n```\n:::\n:::\n\n::: { .solution exercise=\"vect\" }\n::: { .callout-tip collapse=\"false\"}\n## A possible solution:\n\nValues within `c()` are separated by commas.\n\n```r\nhouseholds  <- c(1, 3, 2, 5, 2)\n```\n\n:::\n:::\n\nWe can then use different functions or perform different actions on `households` just as we did with `x` above. For example, we could double the value for each household:\n\n\n\n::: {.cell exercise='vect_2' envir='vect'}\n```{webr}\n#| exercise: vect_2\n#| envir: vect\nhouseholds ______\n```\n:::\n\n\n::: { .solution exercise=\"vect_2\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n\n```r\nhouseholds * 2\n```\n\n:::\n:::\n\nOr we could use a function to calculate a summary value such as the average of `households` using the `mean()` function.\n\n\n::: {.cell exercise='vect_3' envir='vect'}\n```{webr}\n#| exercise: vect_3\n#| envir: vect\n\n```\n:::\n\n\n::: { .solution exercise=\"vect_3\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n\n```r\nmean(households)\n```\n\n:::\n:::\n\nAnother important characteristic of vectors is their length, which we can find with the aptly named `length()` function. Try it out with `households`.\n\n\n::: {.cell exercise='vect_4' envir='vect'}\n```{webr}\n#| exercise: vect_4\n#| envir: vect\n\n```\n:::\n\n\n::: { .solution exercise=\"vect_4\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n\n```r\nlength(households)\n```\n\n:::\n:::\n\nThere are a lot of ways in R to create a vector of numbers in R, but a particularly useful way that you will commonly see is with the colon operator (`:`) to create integer from a starting point to an ending point that increase by one.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\n1:5\n```\n:::\n\n\nTry for yourself. What happens if you create a really long vector?\n\n\n::: {.cell}\n```{webr}\n\n```\n:::\n\n\nIf you want to make more complex vectors of numbers, take a look at the documentation for `seq()` and try it out. The See Also portion of the help page lists other functions you might use.\n\n## Vector types\nSo far so good, but we are still only using numbers. What about words? Well, in R, an object that contains words, or really any letters, is known as a *character* vector.\n\nLet's start by trying to print out the word `hello` to the console. *If you get an error, check the hints.*\n\n\n::: {.cell exercise='hello'}\n```{webr}\n#| exercise: hello\n\n```\n:::\n\n\n::: { .hint exercise=\"hello\" }\n::: { .callout-note collapse=\"false\" }\n## You probably got an error\n\nMake sure to read the error message. What do you think you are missing.\n\n:::\n:::\n\n::: { .solution exercise=\"hello\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\n\nAny set of characters needs to be surrounded by quotation marks.\n\n```r\n\"hello\"\n```\n\n:::\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Printing to the console\n\nSo far we have printed values to the console in two ways: \n\n1. Running functions without assigning the output to a named object\n2. Typing out the name of an object and running it.\n\nA third way is to explicitly call the `print()` function. This is usually unnecessary in R where you are usually working interactively.[^4]\n\n:::\n\nLet's take what we learned above and create a character vector object named `historians` in which the number of historians you name is equal to the length of the vector.\n\n\n::: {.cell exercise='historians' envir='vect'}\n```{webr}\n#| exercise: historians\n#| envir: vect\nhistorians <- ______\n```\n:::\n\n\n::: { .hint exercise=\"historians\" }\n::: { .callout-note collapse=\"false\" }\n## Hint\n\nMake sure to have quotation marks around each historian's name and separate the historians by a comma.\n\n:::\n:::\n\n::: { .solution exercise=\"historians\" }\n::: { .callout-tip title=\"A possible solution:\" collapse=\"false\"}\nAny set of characters needs to be surrounded by quotation marks.\n\n```r\nhistorians <- c(\"Natalie Zemon Davis\", \"Lynn Hunt\", \"Robert Darnton\")\n```\n\n:::\n:::\n\nSome of the functions that we have already used above will work with `historians` but others will not. We can find the length of `historians` but not the mean. Try it out.\n\n\n::: {.cell exercise='historians_2' envir='vect'}\n```{webr}\n#| exercise: historians_2\n#| envir: vect\nlength(historians)\nmean(historians)\n```\n:::\n\n\nIf you want to know what type of vector an object is, use the `class()` function. Try it out first on `households` and then on `historians`.\n\n\n::: {.cell exercise='class_1' envir='vect'}\n```{webr}\n#| exercise: class_1\n#| envir: vect\n______(households)\n```\n:::\n\n\n\n::: {.cell exercise='class_2' envir='vect'}\n```{webr}\n#| exercise: class_2\n#| envir: vect\n______(historians)\n```\n:::\n\n\n### Mixing vector types\nWhen we defined a vector in R above, we noted that it can only have one data type. So what happens if you mix them? Try it out by creating a new vector that combines `households` and `historians`. You do not need to assign it a name.\n\n\n::: {.cell exercise='mixed' envir='vect'}\n```{webr}\n#| exercise: mixed\n#| envir: vect\nc(______)\n```\n:::\n\n\n::: { .solution exercise=\"assignment\" }\n::: { .callout-tip title=\"Solution\" collapse=\"false\"}\nYou can use `c()` on vectors.\n\n```r\nc(households, historians)\n```\n\nTry adding more instances of `historians` or `households` within `c()`.\n\n:::\n:::\n\nNotice that there are now quotation marks around the numbers. They are now characters. R combines different vector types by coercing the more specific typeâ€”in this case the numeric classâ€”to the less specific typeâ€”in this case to character class.\n\n### Logical vectors\nThe last main vector type that type that should be mentioned in this intro to working with R worksheet is `logical` made up of `TRUE` and `FALSE`.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nc(TRUE, TRUE, FALSE, TRUE, FALSE)\n```\n:::\n\n\nOne of the primary ways to create a logical vector is by using conditionals. For instance choose a value for the conditional statement below.\n\n\n::: {.cell exercise='logical'}\n```{webr}\n#| exercise: logical\nc(10, 3, 16, 10, 2, 4) > ______\n```\n:::\n\n\n## Missing data\nMissing values are represented in R by `NA`. Let's create a numeric vector named `rooms` that has some missing values.\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\nrooms <- c(2, 4, 3, NA, 5, 2, NA)\n```\n:::\n\n\nWhat happens when you try to run a summary function such as `mean()` or `sum()`or `max()` or `min()` on `rooms`?\n\n\n::: {.cell exercise='{}'}\n```{webr}\n#| exercise: \n______(rooms)\n```\n:::\n\n\nIf there are missing values in a numeric vector, R cannot (or chooses not to) make summative mathematical calculations on a vector. R cannot know what the missing values should be, so there uis no way to know what is the maximum or minimum value. To make the calculations you need to explicitly remove `NA`s with the `na.rm` argument. Try the summary functions you used above but this time add `na.rm = TRUE`.\n\n\n::: {.cell}\n```{webr}\n______(rooms)\n```\n:::\n\n\nThis feature, the need to replace the default of `na.rm = FALSE` with `na.rm = TRUE`, makes sure that you acknowledge the presence of missing data. It is features like this that show how R has been designed to work with the realities of data.\n\n\n\n[^1]: R is a [REPL (read-eval-print loop)](https://en.wikipedia.org/wiki/Readâ€“evalâ€“print_loop) based language. It is primarily focused on running interactively, one line at a time.\n\n[^2]: For more on naming objects see [*R for Data Science*](https://r4ds.hadley.nz/workflow-style.html#names) and the [Tidyverse style guide](https://style.tidyverse.org/syntax.html#sec-objectnames).\n\n[^3]: More on data types in the next section.\n\n[^4]: Note that in these worksheets we use the word interactively in two slightly different ways. It is interactive because you can work in the browser, but R is also designed to be an interactive programming language that you can run one code block at a time.",
    "supporting": [
      "01-worksheet_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}